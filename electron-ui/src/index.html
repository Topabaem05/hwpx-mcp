<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HWPX MCP</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell" id="appShell">
      <aside class="sidebar">
        <div class="brand">
          <div>
            <div class="brand-title">HWPX MCP</div>
            <div class="brand-sub">AI Document Workbench</div>
          </div>
        </div>

        <button id="newSession" type="button" class="primary-btn">+ New Chat</button>

        <div class="section-title">Chats</div>
        <div id="sessionList" class="session-list"></div>

        <div class="section-title">Settings</div>
        <div class="settings-card">
          <label for="backendBaseUrlInput" class="settings-label">Backend URL</label>
          <input id="backendBaseUrlInput" class="settings-input" type="url" placeholder="http://127.0.0.1:8000" />

          <label for="openaiApiKeyInput" class="settings-label">OpenAI API Key (Fallback)</label>
          <input id="openaiApiKeyInput" class="settings-input" type="password" placeholder="sk-..." />

          <label for="gptOauthTokenInput" class="settings-label">GPT OAuth Token</label>
          <input id="gptOauthTokenInput" class="settings-input" type="password" placeholder="Enter OAuth token" />

          <button id="openAiOauthLoginBtn" type="button" class="ghost-btn settings-btn settings-full-btn">
            Login with OpenAI OAuth
          </button>

          <div class="settings-actions">
            <button id="saveSettings" type="button" class="primary-btn settings-btn">Save</button>
            <button id="resetSettings" type="button" class="ghost-btn settings-btn">Reset</button>
          </div>
        </div>

        <div class="section-title">Agent Backend</div>
        <div class="settings-actions">
          <button id="checkGateway" type="button" class="ghost-btn settings-btn">Check</button>
          <button id="restartBackend" type="button" class="ghost-btn settings-btn">Restart</button>
        </div>
        <p id="statusText" class="status">Starting...</p>
      </aside>

      <main class="chat-area">
        <header class="header">
          <button id="sidebarToggle" type="button" class="header-toggle" aria-label="Toggle sidebar">&#9776;</button>
          <h1 id="chatTitle">HWPX MCP</h1>
        </header>

        <section id="chatLog" class="chat-log"></section>

        <form id="chatForm" class="composer" autocomplete="off">
          <textarea id="messageInput" placeholder="Ask anything about HWP documents..." rows="2"></textarea>
          <button id="sendBtn" type="submit" class="primary-btn">Send</button>
        </form>
      </main>
    </div>
    <div class="backdrop" id="backdrop"></div>

    <script type="module" src="renderer.js"></script>
  </body>
</html>
